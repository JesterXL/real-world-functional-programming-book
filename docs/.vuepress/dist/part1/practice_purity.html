<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Practice Purity Through Predicates</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/real-world-functional-programming-book/assets/css/0.styles.dda700b8.css" as="style"><link rel="preload" href="/real-world-functional-programming-book/assets/js/app.4ecaf7cf.js" as="script"><link rel="preload" href="/real-world-functional-programming-book/assets/js/2.6da8cf3d.js" as="script"><link rel="preload" href="/real-world-functional-programming-book/assets/js/13.8386adfa.js" as="script"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/10.94dd7f8c.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/11.698c5c4f.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/12.192a3ae6.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/14.25c778d2.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/15.62d54e5a.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/16.8f2a7f1e.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/17.749ab795.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/18.ec23f3ec.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/19.9ba81683.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/20.70969485.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/21.7bc06d56.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/22.dd9d45d7.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/23.f2ad21f6.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/24.80f0959b.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/25.6e62b877.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/26.bec311ec.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/27.110f94a9.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/28.829fb020.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/29.f5b667c7.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/3.51c6a686.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/30.bb7984c5.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/31.9b135bc8.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/32.4c26d247.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/33.5c022cb2.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/34.b4468fe6.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/35.a6519809.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/36.7dcb1e29.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/37.3980ad09.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/38.2eece47a.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/39.204af450.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/4.80637c28.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/40.4224b6ca.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/41.47e1ccf5.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/42.ef4aaae1.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/43.927896fc.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/44.0e25a484.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/45.be50f1de.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/46.a6b52ac4.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/47.c9bcfbeb.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/48.9e11dca4.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/49.622efaaa.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/5.dd0514ea.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/50.07cb6d56.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/51.256e2d8e.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/52.a61ac66a.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/53.38837102.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/54.65632715.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/55.7558152f.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/56.632c19bc.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/57.44da2b00.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/58.5eeb983d.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/59.df5acc69.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/6.cd1d47c7.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/60.d35389d5.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/61.309602f9.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/62.0d8a9263.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/63.bc1b30ad.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/64.c2cc4933.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/65.7d2bfbda.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/66.c2ec34a8.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/7.603220b3.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/8.74213919.js"><link rel="prefetch" href="/real-world-functional-programming-book/assets/js/9.997a717b.js">
    <link rel="stylesheet" href="/real-world-functional-programming-book/assets/css/0.styles.dda700b8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/real-world-functional-programming-book/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/real-world-functional-programming-book/" class="sidebar-link">Introduction</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/real-world-functional-programming-book/part1/" class="sidebar-heading clickable router-link-active open"><span>Part 1: Pure Functions</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/real-world-functional-programming-book/part1/input_output_side_effects.html" class="sidebar-link">Pure Functions: Same Input, Same Output, No Side Effects</a></li><li><a href="/real-world-functional-programming-book/part1/what_is_a_side_effect.html" class="sidebar-link">What is a Side Effect?</a></li><li><a href="/real-world-functional-programming-book/part1/var_and_let.html" class="sidebar-link">Et tu const?</a></li><li><a href="/real-world-functional-programming-book/part1/using_vs_enforcing_immutability.html" class="sidebar-link">Using vs Enforcing Immutability</a></li><li><a href="/real-world-functional-programming-book/part1/spot_the_impurities.html" class="sidebar-link">Spot The Impurities</a></li><li><a href="/real-world-functional-programming-book/part1/error_quest.html" class="sidebar-link">Hold Up, Wait a Minute, Let Us Trap The BOOM In It</a></li><li><a href="/real-world-functional-programming-book/part1/not_allowed.html" class="sidebar-link">The Specialist</a></li><li><a href="/real-world-functional-programming-book/part1/practice_purity.html" class="active sidebar-link">Practice Purity Through Predicates</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/real-world-functional-programming-book/part1/practice_purity.html#alwaystrue-and-alwaysfalse" class="sidebar-link">alwaysTrue and alwaysFalse</a></li><li class="sidebar-sub-header"><a href="/real-world-functional-programming-book/part1/practice_purity.html#runtime-type-checkers" class="sidebar-link">Runtime Type Checkers</a></li></ul></li><li><a href="/real-world-functional-programming-book/part1/practice_stubs.html" class="sidebar-link">Stubs</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/real-world-functional-programming-book/part2/" class="sidebar-heading clickable"><span>Part 2: Getting and Setting Data</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/real-world-functional-programming-book/part3/" class="sidebar-heading clickable"><span>Part 3: List Comprehensions</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/real-world-functional-programming-book/part4/" class="sidebar-heading clickable"><span>Part 4: Basic Function Composition</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/real-world-functional-programming-book/part5/" class="sidebar-heading clickable"><span>Part 5: Curry and Partial Applications</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/real-world-functional-programming-book/part6/" class="sidebar-heading clickable"><span>Part 6: Algebraic Data Types</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/real-world-functional-programming-book/part7/" class="sidebar-heading clickable"><span>Part 7: Optics</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/real-world-functional-programming-book/part8/" class="sidebar-heading clickable"><span>Part 8: Debugging</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/real-world-functional-programming-book/part9/" class="sidebar-heading clickable"><span>Part 9: Testing</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="practice-purity-through-predicates"><a href="#practice-purity-through-predicates" class="header-anchor">#</a> Practice Purity Through Predicates</h1> <p>The simplest way to learn how to create pure functions without worrying about the side effects part is creating predicates. Predicates are pure functions that only return <code>true</code> or <code>false</code>.</p> <h2 id="alwaystrue-and-alwaysfalse"><a href="#alwaystrue-and-alwaysfalse" class="header-anchor">#</a> alwaysTrue and alwaysFalse</h2> <p>You can do it the old school way:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">alwaysTrue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><p>or the new school, whatever is comfortable for you:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">alwaysTrue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">true</span>
</code></pre></div><p>For <code>false</code>, it's the same:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">alwaysFalse</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">false</span>
</code></pre></div><p>These functions will never fail. Unit testing them requires no fixtures or stubs. You can do it the imperative way so you can later <code>console.log</code> steps and parts that aren't making sense:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">alwaysTrue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div><p>Or just go for it inline since &quot;they never fail&quot;:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">alwaysTrue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="runtime-type-checkers"><a href="#runtime-type-checkers" class="header-anchor">#</a> Runtime Type Checkers</h2> <p>Dynamic languages often don't have good, if any, runtime type validation. That's part of the allure of them, not to be burdened with types if you want to quickly play with ideas or ship software.</p> <p>Sometimes, though, you need to know if something is of a certain type. Some languages provide functions for this, like <code>type</code> in Python and Lua. For JavaScript, it varies, but a lot are built upon the <code>typeof</code> operator. These can get quite nuanced, so don't worry if yours aren't exact, were more concerned with you feeling comfortable not doing math equations in functions, and instead creating pure functions you'd actually use in your day to day work.</p> <p>For example, if a user is logging into a website, you'll probably do form validation on the client to verify that the user hasn't entered blank text. On the server, you'll do the same check as well to verify the client sent you a username that has at least some text in it, else you'll send back a custom error letting them know what went wrong.</p> <p>First we have to know what a string is:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">isString</span> <span class="token operator">=</span> <span class="token parameter">o</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> o <span class="token operator">===</span> <span class="token string">'string'</span>
</code></pre></div><p>Let's test her out:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">isString</span><span class="token punctuation">(</span><span class="token string">'cow'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">isString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">isString</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">isString</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">isString</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">isString</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><p>Cool, so far so good. Now let's create a predicate that uses our <code>isString</code> predicate to check if the String is a valid one. The &quot;legit&quot; is slang for &quot;legitimate&quot;.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">legitString</span> <span class="token operator">=</span> <span class="token parameter">o</span> <span class="token operator">=&gt;</span> <span class="token function">isString</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> o<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span>
</code></pre></div><p>You could just instead write:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">legitString</span> <span class="token operator">=</span> <span class="token parameter">o</span> <span class="token operator">=&gt;</span> o<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span>
</code></pre></div><p>But then that would throw an Error if you gave it <code>null</code> or <code>undefined</code> by accident:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">legitString</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">// TypeError: Cannot read property 'length' of undefined</span>
</code></pre></div><p>And gives you possibly strange results with <code>Arrays</code>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">legitString</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">legitString</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// true... whaaaaa</span>
</code></pre></div><p>We need to be specific that we're talking about Strings, but notice no need for composition, using an <code>&amp;&amp;</code> and or <code>||</code> or is fine.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/real-world-functional-programming-book/part1/not_allowed.html" class="prev">The Specialist</a></span> <span class="next"><a href="/real-world-functional-programming-book/part1/practice_stubs.html">Stubs</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/real-world-functional-programming-book/assets/js/app.4ecaf7cf.js" defer></script><script src="/real-world-functional-programming-book/assets/js/2.6da8cf3d.js" defer></script><script src="/real-world-functional-programming-book/assets/js/13.8386adfa.js" defer></script>
  </body>
</html>
